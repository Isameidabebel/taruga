<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ache as letras!</title>
    <link rel="stylesheet" href="../css/teste.css">
</head>

<body>
    <div class="game-container">
        <div class="image-container">
            <img src="../imgs/testeG.png" alt="Cenário do jogo">
            <!-- 5 letras serão posicionados aqui -->
            <div class="letra"><img src="../imgs/aLibras.jpg" alt=""></div>
            <div class="letra"><img src="../imgs/iLibras.jpg" alt=""></div>
            <div class="letra"><img src="../imgs/oLibras.jpg" alt=""></div>
            <div class="letra"><img src="../imgs/uLibras.jpg" alt=""></div>
            <div class="letra"><img src="../imgs/eLibras.jpg" alt=""></div>
        </div>
    </div>

    <!-- Elemento centralizado para mostrar o letra encontrado -->
    <div id="center-letra"></div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const letras = document.querySelectorAll('.letra');
            const centerletra = document.getElementById('center-letra');
            const imageContainer = document.querySelector('.image-container');
            let foundLetras = 0;

            letras.forEach(letra => {
                // Posicionar letra de forma aleatória dentro do contêiner
                const maxX = imageContainer.offsetWidth - letra.offsetWidth;
                const maxY = imageContainer.offsetHeight - letra.offsetHeight;
                const randomX = Math.floor(Math.random() * maxX);
                const randomY = Math.floor(Math.random() * maxY);

                letra.style.left = `${randomX}px`;
                letra.style.top = `${randomY}px`;
                letra.style.display = 'block';

                // Lógica para quando letra for encontrado
                letra.addEventListener('click', () => {
                    console.log('letra clicado:', letra);

                    // Obter a URL da imagem clicada
                    const letraImg = letra.querySelector('img').src;

                    // Cria um novo elemento de imagem para garantir que a imagem seja carregada antes de definir o fundo
                    const img = new Image();
                    img.src = letraImg;

                    img.onload = () => {
                        // Mostrar letra no centro da tela com animação
                        centerletra.style.backgroundImage = `url('${letraImg}')`;
                        centerletra.style.display = 'block';
                        centerletra.style.animation = 'zoomOut 1s forwards';

                        // Esconder o letra do cenário
                        letra.style.display = 'none';

                        // Incrementar contador
                        foundLetras++;

                        // Após a animação, esconder letra centralizado
                        setTimeout(() => {
                            centerletra.style.display = 'none';
                        }, 1000);

                        // Verificar se todos os letras foram encontrados
                        if (foundLetras === 5) {
                            console.log('Todos os letras foram encontrados! Redirecionando...');
                            setTimeout(() => {
                                window.location.href = '../html/parabens.html';
                            }, 1000); // Delay para garantir que a animação termine
                        }
                    };
                });
            });
        });

    </script>
</body>

</html>